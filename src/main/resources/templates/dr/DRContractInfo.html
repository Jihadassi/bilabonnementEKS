<!DOCTYPE html>
<html lang="da" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Kontrakt Info</title>
    <link rel="stylesheet" th:href="@{/CSS/global.css}">
    <link rel="stylesheet" th:href="@{/CSS/dr.css}">
</head>

<body>

<div th:replace="~{fragments/header :: header}"></div>

<div class="main-container">

    <h1>Lejekontrakt #<span th:text="${contract.contractId}"></span></h1>

    <h2>Kontraktoplysninger</h2>
    <table class="table">
        <tr><th>Startdato</th><td th:text="${contract.startDate}"></td></tr>
        <tr><th>Slutdato</th><td th:text="${contract.endDate}"></td></tr>
        <tr><th>Inkluderede km</th><td th:text="${contract.includedKm}"></td></tr>
        <tr><th>Aktuelt km</th><td th:text="${contract.currentKm}"></td></tr>
        <tr><th>Pris pr. m√•ned</th><td th:text="${contract.carRentPrice}"></td></tr>
        <tr><th>Afhentningssted</th><td th:text="${contract.pickupLocation}"></td></tr>
        <tr><th>Afleveringssted</th><td th:text="${contract.dropoffLocation}"></td></tr>
        <tr><th>Bil ID</th><td th:text="${contract.carId}"></td></tr>
        <tr><th>Kunde ID</th><td th:text="${contract.customerId}"></td></tr>
    </table>

    <h2>Kunde</h2>
    <div th:if="${customer != null}">
    <table class="table">
        <tr><th>Navn</th><td th:text="${customer.fullName}"></td></tr>
        <tr><th>Email</th><td th:text="${customer.email}"></td></tr>
        <tr><th>Telefon</th><td th:text="${customer.phoneNumber}"></td></tr>
        <tr><th>Adresse</th><td th:text="${customer.address}"></td></tr>
    </table>
    </div>
    <div th:if="${customer == null}">
        <p><em>Kontrakten er afsluttet, ingen kunde tilknyttet.</em></p>
    </div>
    <div class="dr-top-buttons">

        <a th:href="@{/dr/contracts}">
            <button class="btn-blue">Tilbage</button>
        </a>

        <form th:if="${customer != null}"
              th:action="@{/dr/contracts/close/{id}(id=${contract.contractId})}"
              method="post"
              onsubmit="return confirm('Vil du afslutte kontrakten?');">

            <button class="btn-red">Afslut kontrakt</button>
        </form>

    </div>

</div>

<div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>